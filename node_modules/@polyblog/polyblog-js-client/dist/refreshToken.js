"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getRefreshToken = getRefreshToken;
exports.isRefreshTokenExpired = isRefreshTokenExpired;
exports.setRefreshToken = setRefreshToken;
exports.setRefreshTokenForPolyblogClient = void 0;

var _b64Lite = require("b64-lite");

var refreshToken = null;

function isRefreshTokenExpired() {
  var isExpired = true;

  try {
    var payload = JSON.parse((0, _b64Lite.atob)(refreshToken.split('.')[1]));
    var now = Math.floor(Date.now() / 1000);

    if (payload.exp > now) {
      isExpired = false;
    }
  } catch (error) {
    console.error(error);
  }

  return isExpired;
}

function getRefreshToken() {
  return refreshToken;
}

function setRefreshToken(refreshToken_) {
  refreshToken = refreshToken_;
}

var setRefreshTokenForPolyblogClient = setRefreshToken;
exports.setRefreshTokenForPolyblogClient = setRefreshTokenForPolyblogClient;